<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Strophe: Event loop</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Strophe
   &#160;<span id="projectnumber">0.8</span>
   </div>
   <div id="projectbrief">XMPP client library</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Event loop</div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions manage the Strophe event loop.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce">xmpp_run_once</a> (xmpp_ctx_t *ctx, const unsigned long timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the event loop once.  <a href="#ga02816aa5ce34d97fe5bbde5f9c6956ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd">xmpp_run</a> (xmpp_ctx_t *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the event loop.  <a href="#ga14ca97546803cf27c772fa8d2eabfffd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2">xmpp_stop</a> (xmpp_ctx_t *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the event loop.  <a href="#ga44689e9b7782cec520ed60196e8c15c2"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>These functions manage the Strophe event loop. </p>
<p>Simple tools can use <a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd" title="Start the event loop.">xmpp_run()</a> and <a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2" title="Stop the event loop.">xmpp_stop()</a> to manage the life cycle of the program. A common idiom is to set up a few initial event handers, call <a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd" title="Start the event loop.">xmpp_run()</a>, and then respond and react to events as they come in. At some point, one of the handlers will call <a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2" title="Stop the event loop.">xmpp_stop()</a> to quit the event loop which leads to the program terminating.</p>
<p>More complex programs will have their own event loops, and should ensure that <a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce" title="Run the event loop once.">xmpp_run_once()</a> is called regularly from there. For example, a GUI program will already include an event loop to process UI events from users, and <a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce" title="Run the event loop once.">xmpp_run_once()</a> would be called from an idle function. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga02816aa5ce34d97fe5bbde5f9c6956ce"></a><!-- doxytag: member="event.c::xmpp_run_once" ref="ga02816aa5ce34d97fe5bbde5f9c6956ce" args="(xmpp_ctx_t *ctx, const unsigned long timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce">xmpp_run_once</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run the event loop once. </p>
<p>event loop</p>
<p>This function will run send any data that has been queued by xmpp_send and related functions and run through the Strophe even loop a single time, and will not wait more than timeout milliseconds for events. This is provided to support integration with event loops outside the library, and if used, should be called regularly to achieve low latency event handling.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
    <tr><td class="paramname">timeout</td><td>time to wait for events in milliseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga14ca97546803cf27c772fa8d2eabfffd"></a><!-- doxytag: member="event.c::xmpp_run" ref="ga14ca97546803cf27c772fa8d2eabfffd" args="(xmpp_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd">xmpp_run</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the event loop. </p>
<p>This function continuously calls xmpp_run_once and does not return until xmpp_stop has been called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga44689e9b7782cec520ed60196e8c15c2"></a><!-- doxytag: member="event.c::xmpp_stop" ref="ga44689e9b7782cec520ed60196e8c15c2" args="(xmpp_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2">xmpp_stop</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop the event loop. </p>
<p>This will stop the event loop after the current iteration and cause xmpp_run to exit.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</body>
</html>
