<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Strophe: Stanza and timed event handlers</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Strophe
   &#160;<span id="projectnumber">0.8</span>
   </div>
   <div id="projectbrief">XMPP client library</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Stanza and timed event handlers</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#gae70f02f84a0f232c6a8c2866ecb47b82">xmpp_timed_handler_delete</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#a4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a> handler)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a timed handler.  <a href="#gae70f02f84a0f232c6a8c2866ecb47b82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#ga6bd02f7254b2a53214824d3d5e4f59ce">xmpp_id_handler_delete</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler, const char *const id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an id based stanza handler.  <a href="#ga6bd02f7254b2a53214824d3d5e4f59ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#ga881756ae98f74748212bcbc61e6a4c89">xmpp_handler_delete</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a stanza handler.  <a href="#ga881756ae98f74748212bcbc61e6a4c89"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#ga0a74b20f2367389e5dc8852b4d3fdcda">xmpp_timed_handler_add</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#a4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a> handler, const unsigned long period, void *const userdata)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a timed handler.  <a href="#ga0a74b20f2367389e5dc8852b4d3fdcda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#ga2142d78b7d6e8d278eebfa8a63f194a4">xmpp_id_handler_add</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler, const char *const id, void *const userdata)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an id based stanza handler.  <a href="#ga2142d78b7d6e8d278eebfa8a63f194a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#gad307e5a22d16ef3d6fa18d503b68944f">xmpp_handler_add</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler, const char *const ns, const char *const name, const char *const type, void *const userdata)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a stanza handler.  <a href="#gad307e5a22d16ef3d6fa18d503b68944f"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae70f02f84a0f232c6a8c2866ecb47b82"></a><!-- doxytag: member="handler.c::xmpp_timed_handler_delete" ref="gae70f02f84a0f232c6a8c2866ecb47b82" args="(xmpp_conn_t *const conn, xmpp_timed_handler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___handlers.html#gae70f02f84a0f232c6a8c2866ecb47b82">xmpp_timed_handler_delete</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#a4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a timed handler. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>a Strophe connection object </td></tr>
    <tr><td class="paramname">handler</td><td>function pointer to the handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6bd02f7254b2a53214824d3d5e4f59ce"></a><!-- doxytag: member="handler.c::xmpp_id_handler_delete" ref="ga6bd02f7254b2a53214824d3d5e4f59ce" args="(xmpp_conn_t *const conn, xmpp_handler handler, const char *const id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___handlers.html#ga6bd02f7254b2a53214824d3d5e4f59ce">xmpp_id_handler_delete</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete an id based stanza handler. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>a Strophe connection object </td></tr>
    <tr><td class="paramname">handler</td><td>a function pointer to a stanza handler </td></tr>
    <tr><td class="paramname">id</td><td>a string containing the id the handler is for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga881756ae98f74748212bcbc61e6a4c89"></a><!-- doxytag: member="handler.c::xmpp_handler_delete" ref="ga881756ae98f74748212bcbc61e6a4c89" args="(xmpp_conn_t *const conn, xmpp_handler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___handlers.html#ga881756ae98f74748212bcbc61e6a4c89">xmpp_handler_delete</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a stanza handler. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>a Strophe connection object </td></tr>
    <tr><td class="paramname">handler</td><td>a function pointer to a stanza handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0a74b20f2367389e5dc8852b4d3fdcda"></a><!-- doxytag: member="handler.c::xmpp_timed_handler_add" ref="ga0a74b20f2367389e5dc8852b4d3fdcda" args="(xmpp_conn_t *const conn, xmpp_timed_handler handler, const unsigned long period, void *const userdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___handlers.html#ga0a74b20f2367389e5dc8852b4d3fdcda">xmpp_timed_handler_add</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#a4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a timed handler. </p>
<p>The handler will fire for the first time once the period has elapsed, and continue firing regularly after that. Strophe will try its best to fire handlers as close to the period times as it can, but accuracy will vary depending on the resolution of the event loop.</p>
<p>If the handler function returns true, it will be kept, and if it returns false, it will be deleted from the list of handlers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>a Strophe connection object </td></tr>
    <tr><td class="paramname">handler</td><td>a function pointer to a timed handler </td></tr>
    <tr><td class="paramname">period</td><td>the time in milliseconds between firings </td></tr>
    <tr><td class="paramname">userdata</td><td>an opaque data pointer that will be passed to the handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2142d78b7d6e8d278eebfa8a63f194a4"></a><!-- doxytag: member="handler.c::xmpp_id_handler_add" ref="ga2142d78b7d6e8d278eebfa8a63f194a4" args="(xmpp_conn_t *const conn, xmpp_handler handler, const char *const id, void *const userdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___handlers.html#ga2142d78b7d6e8d278eebfa8a63f194a4">xmpp_id_handler_add</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an id based stanza handler. </p>
<p>This function adds a stanza handler for an &lt;iq/&gt; stanza of type 'result' or 'error' with a specific id attribute. This can be used to handle responses to specific &lt;iq/&gt;s.</p>
<p>If the handler function returns true, it will be kept, and if it returns false, it will be deleted from the list of handlers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>a Strophe connection object </td></tr>
    <tr><td class="paramname">handler</td><td>a function pointer to a stanza handler </td></tr>
    <tr><td class="paramname">id</td><td>a string with the id </td></tr>
    <tr><td class="paramname">userdata</td><td>an opaque data pointer that will be passed to the handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad307e5a22d16ef3d6fa18d503b68944f"></a><!-- doxytag: member="handler.c::xmpp_handler_add" ref="gad307e5a22d16ef3d6fa18d503b68944f" args="(xmpp_conn_t *const conn, xmpp_handler handler, const char *const ns, const char *const name, const char *const type, void *const userdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___handlers.html#gad307e5a22d16ef3d6fa18d503b68944f">xmpp_handler_add</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#a4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a stanza handler. </p>
<p>This function is used to add a stanza handler to a connection. The handler will be called when the any of the filters match. The name filter matches to the top level stanza name. The type filter matches the 'type' attribute of the top level stanza. The ns filter matches the namespace ('xmlns' attribute) of either the top level stanza or any of it's immediate children (this allows you do handle specific &lt;iq/&gt; stanzas based on the &lt;query/&gt; child namespace.</p>
<p>If the handler function returns true, it will be kept, and if it returns false, it will be deleted from the list of handlers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>a Strophe connection object </td></tr>
    <tr><td class="paramname">handler</td><td>a function pointer to a stanza handler </td></tr>
    <tr><td class="paramname">ns</td><td>a string with the namespace to match </td></tr>
    <tr><td class="paramname">name</td><td>a string with the stanza name to match </td></tr>
    <tr><td class="paramname">type</td><td>a string with the 'type' attribute to match </td></tr>
    <tr><td class="paramname">userdata</td><td>an opaque data pointer that will be passed to the handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</body>
</html>
