<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Strophe: Context objects</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Strophe
   &#160;<span id="projectnumber">0.8</span>
   </div>
   <div id="projectbrief">XMPP client library</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Context objects</div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions create and manipulate Strophe context objects.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">xmpp_log_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___context.html#ga33abde406c7a057006b109cf1b23c8f8">xmpp_get_default_logger</a> (<a class="el" href="strophe_8h.html#aecad53c9ac2076e5fab581bc7ac4f83e">xmpp_log_level_t</a> level)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a default logger with filtering.  <a href="#ga33abde406c7a057006b109cf1b23c8f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">xmpp_ctx_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___context.html#gaeb32490f33760a7ffc0f86a0565b43b2">xmpp_ctx_new</a> (const xmpp_mem_t *const mem, const xmpp_log_t *const log)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and initialize a Strophe context object.  <a href="#gaeb32490f33760a7ffc0f86a0565b43b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___context.html#ga3ae5f04bc23ab2e7b55760759e21d623">xmpp_ctx_free</a> (xmpp_ctx_t *const ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a Strophe context object that is no longer in use.  <a href="#ga3ae5f04bc23ab2e7b55760759e21d623"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>These functions create and manipulate Strophe context objects. </p>
<p>In order to support usage in a variety of environments, the Strophe library uses a runtime context object. This object contains the information on how to do memory allocation and logging. This allows the user to control how memory is allocated and what do to with log messages.</p>
<p>These issues do not affect programs in the common case, but many environments require special treatment. Abstracting these into a runtime context object makes it easy to use Strophe on embedded platforms.</p>
<p>Objects in Strophe are reference counted to ease memory management issues, but the context objects are not. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga33abde406c7a057006b109cf1b23c8f8"></a><!-- doxytag: member="ctx.c::xmpp_get_default_logger" ref="ga33abde406c7a057006b109cf1b23c8f8" args="(xmpp_log_level_t level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmpp_log_t* <a class="el" href="group___context.html#ga33abde406c7a057006b109cf1b23c8f8">xmpp_get_default_logger</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#aecad53c9ac2076e5fab581bc7ac4f83e">xmpp_log_level_t</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a default logger with filtering. </p>
<p>The default logger provides a basic logging setup which writes log messages to stderr. Only messages where level is greater than or equal to the filter level will be logged.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>the highest level the logger will log at</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the log structure for the given level </dd></dl>

</div>
</div>
<a class="anchor" id="gaeb32490f33760a7ffc0f86a0565b43b2"></a><!-- doxytag: member="ctx.c::xmpp_ctx_new" ref="gaeb32490f33760a7ffc0f86a0565b43b2" args="(const xmpp_mem_t *const mem, const xmpp_log_t *const log)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmpp_ctx_t* <a class="el" href="group___context.html#gaeb32490f33760a7ffc0f86a0565b43b2">xmpp_ctx_new</a> </td>
          <td>(</td>
          <td class="paramtype">const xmpp_mem_t *const&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const xmpp_log_t *const&#160;</td>
          <td class="paramname"><em>log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create and initialize a Strophe context object. </p>
<p>If mem is NULL, a default allocation setup will be used which wraps malloc(), free(), and realloc() from the standard library. If log is NULL, a default logger will be used which does no logging. Basic filtered logging to stderr can be done with the <a class="el" href="group___context.html#ga33abde406c7a057006b109cf1b23c8f8" title="Get a default logger with filtering.">xmpp_get_default_logger()</a> convenience function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>a pointer to an xmpp_mem_t structure or NULL </td></tr>
    <tr><td class="paramname">log</td><td>a pointer to an xmpp_log_t structure or NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the allocated Strophe context object or NULL on an error </dd></dl>

</div>
</div>
<a class="anchor" id="ga3ae5f04bc23ab2e7b55760759e21d623"></a><!-- doxytag: member="ctx.c::xmpp_ctx_free" ref="ga3ae5f04bc23ab2e7b55760759e21d623" args="(xmpp_ctx_t *const ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group___context.html#ga3ae5f04bc23ab2e7b55760759e21d623">xmpp_ctx_free</a> </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *const&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free a Strophe context object that is no longer in use. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</body>
</html>
